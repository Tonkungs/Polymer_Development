<link rel="import" href="chart/bar-chart.html">
<link rel="import" href="my-components/my-google-map.html">
<link rel="import" href="my-components/my-picture.html">
<link rel="import" href="my-components/my-text.html">
<link rel="import" href="my-components/my-html.html">
<dom-module id="my-widget">
  <style include="iron-flex">
    .sub_icon{
      width: 35px;
      height: 35px;
    }
  </style>
  <template>
    <div class="layout horizontal justified">
      <div><span>ชนิด:{{data.key}}</span></div>
      <div>
        <paper-icon-button class="sub_icon"icon="icons:delete" title="ลบคอมโพแนน" on-tap="delSubcom"></paper-icon-button>
      </div>
    </div>
      <!-- {{data}} -->
        <iron-pages selected="{{selection}}">
            <my-text data="{{data}}"></my-text>
            <my-picture data="{{data}}"></my-picture>
            <my-html data="{{data}}"></my-html>
            <bar-chart data="{{data}}"></bar-chart>
            <my-google-map data="{{data}}"></my-google-map>
        </iron-pages>
    </template>
  <script>
    Polymer({
      is: "my-widget",
      properties: {
        selection: {
          type: Number,
          value:0
        }
      },
      ready: function() {
        // console.log(this.keyparent);
        // console.log(this.data.key);
        // console.log(this.data.type);
        switch (this.data.type) {
          case 'my-text':
               this.selection =0;
            break;
          case 'my-picture':
               this.selection =1;
            break;
          case 'my-html':
               this.selection =2;
            break;
          case 'bar-chart':
               this.selection =3;
            break;
          case 'my-google-map':
               this.selection =4;
            break;
        }
      },
      delSubcom:function (){
        return firebase.database().ref('/panes/'+ this.keyparent+'/component/'+this.data.key).remove();
      }
    });
  </script>
</dom-module>
